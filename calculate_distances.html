<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<head>
  <title>Calculate distances</title>
  <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
  <script language="JavaScript">
    <!--
    function distance() {
      function deg2rad(input) {
        var output = Math.PI * input / 180;
        return output;
      }
      function rad2deg(input) {
        var output = 180 * input / Math.PI;
        return output;
      }
      function min2dec(input) {
        var output = input / 60;
        return output;
      }
      function neg2pos(input) {
        var output = input * -2 + input;
        return output;
      }

      var x1 = document.calculator.xdeg1.value * 1;
      if (x1 < 0) {
        var x1m = neg2pos(min2dec(document.calculator.xmin1.value));
      } else {
        var x1m = min2dec(document.calculator.xmin1.value);
      }
      x1 = deg2rad(x1 + x1m);
      var y1 = document.calculator.ydeg1.value * 1;
      if (y1 < 0) {
        var y1m = neg2pos(min2dec(document.calculator.ymin1.value));
      } else {
        var y1m = min2dec(document.calculator.ymin1.value);
      }
      y1 = deg2rad(y1 + y1m);
      var x2 = document.calculator.xdeg2.value * 1;
      if (x2 < 0) {
        var x2m = neg2pos(min2dec(document.calculator.xmin2.value));
      } else {
        var x2m = min2dec(document.calculator.xmin2.value);
      }
      x2 = deg2rad(x2 + x2m);
      var y2 = document.calculator.ydeg2.value * 1;
      if (y2 < 0) {
        var y2m = neg2pos(min2dec(document.calculator.ymin2.value));
      } else {
        var y2m = min2dec(document.calculator.ymin2.value);
      }
      y2 = deg2rad(y2 + y2m);

      var delta_l = x1 - x2;
      if (delta_l < 0) {
        delta_l = neg2pos(delta_l);
      }

      var cos_e = Math.sin(y1) * Math.sin(y2) + Math.cos(y1) * Math.cos(y2) * Math.cos(delta_l);
      var r = 6371.0088; // mean Earth radius
      var dist = r * rad2deg(Math.acos(cos_e)) * 2 * Math.PI / 360;
      dist = Math.round(dist);
      document.calculator.erg.value = dist;
    }
    //->
  </script>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 204);" alink="#000099" link="#000099" vlink="#990099">
<h3>Calculates the distance between two places on Earth</h3>
  <form name="calculator">
    <input name="xdeg1" size="5" type="text" />&deg;
    <input name="xmin1" size="5" type="text" />&rsquo;&nbsp; Longitude Place A<br />
    <input name="ydeg1" size="5" type="text" />&deg; 
    <input name="ymin1" size="5" type="text" />&rsquo;&nbsp; Latitude Place A<br />
    <br />
    <input name="xdeg2" size="5" type="text" />&deg;
    <input name="xmin2" size="5" type="text" />&rsquo;&nbsp; Longitude Place B<br />
    <input name="ydeg2" size="5" type="text" />&deg;
    <input name="ymin2" size="5" type="text" />&rsquo;&nbsp; Latitude Place B<br />
    <br />
    <input value="Calculate the distance in km" onclick="distance()" type="button" /><br />
    <br />
    The distance between the two places is:<br />
    <br />
    <input name="erg" size="5" type="text" /> km<br />
    <br />
    <input value="Close window" onclick="self.close()" type="button" />
  </form>
</body>
</html>
